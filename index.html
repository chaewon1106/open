<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>í”„ë¡œí•„ ì¹´ë“œ ìƒì„±ê¸° Pro</title>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <style>
    :root{
      --bg:#0f1724; --card:#1e293b; --accent:#8b5cf6; 
      --glass:rgba(255,255,255,0.05); --border:rgba(255,255,255,0.08); 
      --muted:#94a3b8; --text:#f1f5f9;
    }
    *{box-sizing:border-box}
    body{
      font-family:-apple-system, BlinkMacSystemFont, "Pretendard", "Apple SD Gothic Neo", sans-serif;
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      background:radial-gradient(circle at 50% 0%, #1e1b4b 0%, #0f1724 100%);
      color:var(--text);
    }
    .wrap{width:min(1000px,94%); padding:40px 20px;}
    
    header{margin-bottom:30px; text-align:center;}
    header h1{font-size:28px; margin:0 0 8px; background:linear-gradient(to right, #c4b5fd, #8b5cf6); -webkit-background-clip:text; -webkit-text-fill-color:transparent;}
    header p{margin:0; color:var(--muted); font-size:15px;}

    .grid{display:grid; grid-template-columns:1fr 400px; gap:32px; align-items:start;}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}

    /* Input Section */
    .input-card{
      background:var(--card); border:1px solid var(--border);
      padding:24px; border-radius:16px; box-shadow:0 4px 20px rgba(0,0,0,0.2);
    }
    .form-group{margin-bottom:16px;}
    label{font-size:13px; color:var(--muted); display:block; margin-bottom:6px; font-weight:600;}
    .input-row{display:flex; gap:8px;}
    
    input, select{
      width:100%; padding:12px; background:var(--glass);
      border:1px solid var(--border); border-radius:8px;
      color:inherit; font-size:14px; transition:0.2s;
    }
    input:focus, select:focus{outline:none; border-color:var(--accent); background:rgba(255,255,255,0.08);}
    
    button{
      padding:0 16px; border-radius:8px; border:none; cursor:pointer; font-size:13px; font-weight:600;
      transition:0.2s; white-space:nowrap;
    }
    .btn-rand{background:rgba(255,255,255,0.05); color:var(--muted); border:1px solid var(--border);}
    .btn-rand:hover{background:rgba(255,255,255,0.1); color:white;}
    
    .btn-primary{
      width:100%; padding:14px; margin-top:10px; font-size:16px;
      background:linear-gradient(135deg, var(--accent), #6366f1);
      color:white; box-shadow:0 4px 12px rgba(124, 58, 237, 0.3);
    }
    .btn-primary:hover{transform:translateY(-2px); box-shadow:0 6px 16px rgba(124, 58, 237, 0.4);}

    /* Preview Section */
    .preview-area{position:sticky; top:20px;}
    
    /* ì‹¤ì œ ìº¡ì²˜ë  ì¹´ë“œ ë””ìì¸ */
    .id-card{
      background:linear-gradient(160deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.15);
      backdrop-filter:blur(20px);
      padding:32px; border-radius:24px;
      text-align:center; position:relative; overflow:hidden;
      box-shadow:0 20px 50px rgba(0,0,0,0.5);
      transition:0.3s ease;
    }
    /* ì¹´ë“œ ë°°ê²½ ì¥ì‹ */
    .id-card::before{
      content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
      background:conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(139, 92, 246, 0.1) 60deg, transparent 120deg);
      animation:rotate 10s linear infinite; pointer-events:none;
    }
    @keyframes rotate{100%{transform:rotate(360deg)}}

    .card-content{position:relative; z-index:2;}
    
    .avatar-box{
      width:100px; height:100px; margin:0 auto 20px;
      border-radius:50%; background:linear-gradient(135deg, #e0e7ff, #c7d2fe);
      display:flex; align-items:center; justify-content:center;
      font-size:42px; font-weight:800; color:#312e81;
      box-shadow:0 8px 24px rgba(0,0,0,0.3); border:4px solid rgba(255,255,255,0.1);
    }
    
    .card-name{font-size:24px; font-weight:700; margin:0 0 4px; letter-spacing:-0.5px;}
    .card-mbti{
      display:inline-block; font-size:12px; font-weight:700; 
      background:rgba(139, 92, 246, 0.2); color:#c4b5fd; 
      padding:4px 10px; border-radius:20px; margin-bottom:16px;
      border:1px solid rgba(139, 92, 246, 0.3);
    }
    
    .card-tags{display:flex; flex-wrap:wrap; justify-content:center; gap:8px; margin-bottom:24px;}
    .tag{font-size:12px; color:#cbd5e1; background:rgba(255,255,255,0.05); padding:6px 12px; border-radius:8px;}

    .card-desc{
      background:rgba(0,0,0,0.2); padding:20px; border-radius:12px;
      font-size:15px; line-height:1.6; color:#e2e8f0; text-align:left;
      word-break:keep-all; border:1px solid rgba(255,255,255,0.05);
    }

    /* Action Buttons */
    .actions{display:flex; gap:10px; margin-top:20px;}
    .btn-action{
      flex:1; padding:12px; background:var(--card); color:var(--muted);
      border:1px solid var(--border); border-radius:8px; display:flex; align-items:center; justify-content:center; gap:6px;
    }
    .btn-action:hover{background:rgba(255,255,255,0.05); color:white;}

    /* Empty State */
    .empty-state{
      padding:60px 20px; text-align:center; color:var(--muted);
      border:2px dashed var(--border); border-radius:24px;
    }
  </style>
</head>
<body>

<div class="wrap">
  <header>
    <h1>âœ¨ í”„ë¡œí•„ ì¹´ë“œ ìƒì„±ê¸°</h1>
    <p>ë‚˜ë§Œì˜ ê°ì„±ìœ¼ë¡œ ì±„ìš´ ìê¸°ì†Œê°œ ì¹´ë“œë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.</p>
  </header>

  <div class="grid">
    <section class="input-card">
      <form id="profileForm">
        <div class="form-group">
          <label>ì´ë¦„ / ë‹‰ë„¤ì„</label>
          <div class="input-row">
            <input type="text" id="name" placeholder="í™ê¸¸ë™" required>
          </div>
        </div>

        <div class="form-group">
          <label>MBTI</label>
          <div class="input-row">
            <input type="text" id="mbti" placeholder="ì˜ˆ: ENFP" style="text-transform:uppercase;">
            <button type="button" class="btn-rand" onclick="setRand('mbti')">ğŸ²</button>
          </div>
        </div>

        <div class="form-group">
          <label>ì¢‹ì•„í•˜ëŠ” ìŒì‹</label>
          <div class="input-row">
            <input type="text" id="food" placeholder="ë–¡ë³¶ì´, íŒŒìŠ¤íƒ€...">
            <button type="button" class="btn-rand" onclick="setRand('food')">ğŸ²</button>
          </div>
        </div>

        <div class="form-group">
          <label>ì·¨ë¯¸ / ê´€ì‹¬ì‚¬</label>
          <div class="input-row">
            <input type="text" id="hobby" placeholder="ì‚¬ì§„ì°ê¸°, ì½”ë”©...">
            <button type="button" class="btn-rand" onclick="setRand('hobby')">ğŸ²</button>
          </div>
        </div>

        <div class="form-group">
          <label>ìƒì„± ë¶„ìœ„ê¸° (Tone)</label>
          <select id="tone">
            <option value="polite">ì°¨ë¶„í•˜ê³  ê³µì†í•˜ê²Œ (íšŒì‚¬ìš©)</option>
            <option value="emoji">ë°œë„í•˜ê³  ê·€ì—½ê²Œ (SNSìš©)</option>
            <option value="brief">ì‹œí¬í•˜ê³  ì§§ê²Œ (ê°œë°œììš©)</option>
            <option value="emotional">ê°ì„± í•œ ìŠ¤í‘¼ (ì¸ìŠ¤íƒ€ìš©)</option>
          </select>
        </div>

        <button type="submit" class="btn-primary">âœ¨ ì¹´ë“œ ìƒì„±í•˜ê¸°</button>
      </form>
    </section>

    <aside class="preview-area">
      <div id="emptyState" class="empty-state">
        <div style="font-size:40px; margin-bottom:10px;">ğŸ‘»</div>
        <p>ì™¼ìª½ ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´<br>ì—¬ê¸°ì— ì¹´ë“œê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
      </div>

      <div id="resultContainer" style="display:none">
        <div id="captureArea" class="id-card">
          <div class="card-content">
            <div class="avatar-box" id="rAvatar">H</div>
            <h2 class="card-name" id="rName">í™ê¸¸ë™</h2>
            <span class="card-mbti" id="rMbti">ENFP</span>
            
            <div class="card-tags" id="rTags">
              </div>

            <div class="card-desc" id="rDesc">
              ìê¸°ì†Œê°œ í…ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn-action" id="copyBtn">ğŸ“ í…ìŠ¤íŠ¸ ë³µì‚¬</button>
          <button class="btn-action" id="downloadBtn">ğŸ’¾ ì´ë¯¸ì§€ ì €ì¥</button>
        </div>
      </div>
    </aside>
  </div>
</div>

<script>
  // ë°ì´í„° ë±…í¬
  const dataBank = {
    mbti: ['ISTJ','ISFJ','INFJ','INTJ','ISTP','ISFP','INFP','INTP','ESTP','ESFP','ENFP','ENTP','ESTJ','ESFJ','ENFJ','ENTJ'],
    foods: ['ë§ˆë¼íƒ•','í‰ì–‘ëƒ‰ë©´','ë¯¼íŠ¸ì´ˆì½”','ê¹€ì¹˜ì°Œê°œ','ì˜¤ë§ˆì¹´ì„¸','ì¹˜ë§¥','ìƒëŸ¬ë“œ','êµ­ë°¥'],
    hobbies: ['ìœ íŠœë¸Œ ë³´ê¸°','ë§›ì§‘ íƒë°©','ì½”ë”©í•˜ê¸°','í—¬ìŠ¤','ëˆ„ì›Œìˆê¸°','í•„ë¦„ì¹´ë©”ë¼','ì „ì‹œíšŒ ê´€ëŒ','ê²Œì„']
  };

  const $ = id => document.getElementById(id);
  const pick = arr => arr[Math.floor(Math.random() * arr.length)];

  // ëœë¤ ë²„íŠ¼ í•¸ë“¤ëŸ¬
  function setRand(type) {
    const el = $(type);
    if(type === 'mbti') el.value = pick(dataBank.mbti);
    else if(type === 'food') el.value = pick(dataBank.foods);
    else if(type === 'hobby') el.value = pick(dataBank.hobbies);
  }

  // í¼ ì œì¶œ
  $('profileForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const info = {
      name: $('name').value.trim(),
      mbti: $('mbti').value.toUpperCase().trim() || 'SECRET',
      food: $('food').value.trim() || 'ë§›ìˆëŠ” ê²ƒ',
      hobby: $('hobby').value.trim() || 'ìˆ¨ì‰¬ê¸°',
      tone: $('tone').value
    };

    renderCard(info);
  });

  // ì¹´ë“œ ë Œë”ë§ í•¨ìˆ˜
  function renderCard(info) {
    $('emptyState').style.display = 'none';
    $('resultContainer').style.display = 'block';

    // ê¸°ë³¸ ì •ë³´ ë°”ì¸ë”©
    $('rAvatar').textContent = info.name.substring(0,1);
    $('rName').textContent = info.name;
    $('rMbti').textContent = info
